<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="chatMapper">

    <resultMap type="chatingRoom" id="chatroomResultSet">
        <id column="CHAT_ROOM_NO" property="roomNo"/>
        <result column="MEMBER_NO" property="memberNo"/>
    </resultMap>


    <insert id="chatRoomInsert">
        INSERT INTO CHAT_ROOM(CHAT_ROOM_NO, MEMBER_NO)
            VALUES (#{roomNo},#{memberNo})
    </insert>

    <select id="findRoom" resultMap="chatroomResultSet">
        SELECT CHAT_ROOM_NO,
                MEMBER_NO
        FROM CHAT_ROOM
        WHERE MEMBER_NO = #{memberNo}
    </select>

    <insert id="enterRoom">
        INSERT INTO CHAT_ROOM_JOIN(CHAT_ROOM_NO, MEMBER_NO)
        VALUES (#{chatRoomNo},#{memberNo})
    </insert>
</mapper>