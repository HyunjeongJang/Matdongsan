<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="hashtagMapper">

    <resultMap id="hashtagResultSet" type="hashtag">
        <result column="HASHTAG_ID" property="hashtagId"/>
        <result column="HASHTAG" property="hashTag"/>
    </resultMap>
    
    <resultMap id="resHashtagResultSet" type="resHashtag">
        <result column="RES_NO" property="resNo"/>
        <result column="HASHTAG_ID" property="hashtagId"/>
        <result column="REV_NO" property="revNo"/>
        <result column="MEMBER_NO" property="memberNo"/>
    </resultMap>


    <select id="selectHashtagList" resultType="String">
        SELECT HASHTAG.HASHTAG
        FROM HASHTAG
    </select>

    <select id="resHashtagByAdmin" resultMap="resHashtagResultSet">
        SELECT HASHTAG
        FROM RES_HASHTAG
            JOIN RESTAURANT R on RES_HASHTAG.RES_NO = R.RES_NO
            JOIN HASHTAG H on RES_HASHTAG.HASHTAG_ID = H.HASHTAG_ID
        WHERE R.RES_NO = #{resNo}
        AND MEMBER_NO = 1
    </select>





</mapper>