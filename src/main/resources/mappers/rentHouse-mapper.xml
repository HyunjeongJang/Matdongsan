<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rentHouseMapper">

    <resultMap id="rentHouseResultSet" type="rentHouse">
        <result column="ACC_YEAR" property="accYear"/>
        <result column="SGG_CD" property="sggCd"/>
        <result column="SGG_NM" property="sggName"/>

        <result column="BJDONG_CD" property="bjdCd"/>
        <result column="BJDONG_NM" property="bjdName"/>
        <result column="BOBN" property="boBn"/>
        <result column="BUBN" property="buBn"/>
        <result column="DEAL_YMD" property="dealYmd"/>
        <result column="RENT_GBN" property="rentGbn"/>
        <result column="RENT_AREA" property="rentArea"/>
        <result column="RENT_GTN" property="rentGtn"/>
        <result column="RENT_FEE" property="rentFee"/>
        <result column="BLDG_NM" property="buildName"/>
        <result column="HOUSE_GBN_NM" property="houseType"/>
    </resultMap>

    <delete id="deleteAll">
        TRUNCATE TABLE REALEATATE_RENT
    </delete>

    <insert id="packageInsert" parameterType="list">
        INSERT INTO REALEATATE_RENT
        (RENT_NO, ACC_YEAR, SGG_CD, SGG_NM, BJDONG_CD, BJDONG_NM, BOBN, BUBN, DEAL_YMD, RENT_GBN,
        RENT_AREA, RENT_GTN, RENT_FEE, BLDG_NM, HOUSE_GBN_NM)
        SELECT rentHouse.* FROM (
        <foreach collection="list" item="rH" separator="UNION ALL ">
            <![CDATA[
				    SELECT
				        SEQ_RENT_NO.NEXTVAL,
                        #{rH.accYear},
                        #{rH.sggCd},
                        #{rH.sggNm},
                        #{rH.bjdongCd},
                        #{rH.bjdongNm},
                        #{rH.bondbeon},
                        #{rH.bubeon},
                        #{rH.bldgNm},
                        #{rH.dealYmd},
                        #{rH.objAmt},
                        #{rH.bldgArea},
                        #{rH.buildYear},
                        #{rH.houseType}
                    FROM dual
                ]]>
        </foreach>
        ) rentHouse
    </insert>

</mapper>